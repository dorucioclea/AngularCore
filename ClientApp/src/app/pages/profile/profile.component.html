<div *ngIf="profile$ | async; let profile; else loading">
  {{profile | json}}
  <div fxLayout="row" fxLayoutAlign="start start">
    <mat-card>
      <mat-card-content>
        <img mat-card-image src="../../../assets/images/default-profile-pic.png">
        <mat-card-title>{{profile.fullName}}</mat-card-title>
        <mat-card-subtitle>{{profile.email}}</mat-card-subtitle>
      </mat-card-content>
    </mat-card>

    <div *ngIf="posts$ | async; let posts; else loading">
      <div *ngIf="posts.length != 0; else noPosts" fxLayout="column" fxLayoutGap="20px" fxLayoutAlign="start center">
        <div *ngFor="let post of posts">
          <mat-card>
            <mat-card-header>
              <mat-card-subtitle>{{post.createdAt}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              {{post.content}}
            </mat-card-content>
          </mat-card>
        </div>
      </div>

      <div #noPosts>
        <mat-card>
          <mat-card-content style="text-align: center;">
            <mat-card-title>Sorry!</mat-card-title>
            <mat-card-subtitle>This user doesn't have any posts yet!</mat-card-subtitle>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

  </div>
</div>
<ng-template #loading>
  <app-spinner-overlay></app-spinner-overlay>
</ng-template>
